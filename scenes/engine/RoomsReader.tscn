[gd_scene load_steps=4 format=2]

[ext_resource path="res://tilesets/basic.tres" type="TileSet" id=1]
[ext_resource path="res://tilesets/masks_tileset.tres" type="TileSet" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

onready var walls = get_node(\"Walls\")
onready var doors = get_node(\"Doors\")
onready var limits = get_node(\"Limits\")

const START_ID = 1
const END_ID = 2
const DOOR_ID = 3
const GRID_ID = 5
const DOOR_DIR = [\"N\", \"E\", \"S\", \"W\"]
const WALL_ID = 1

var isInitialized = false

var roomsList = {}
var doorsList = {}

func read():
	var currentPos = 0
	var ends = limits.get_used_cells_by_id(END_ID)
	for start in limits.get_used_cells_by_id(START_ID):
		var end = ends[currentPos/4]
		var size = end - start
		roomsList[currentPos] = []
		doorsList[currentPos] = []
		roomsList[currentPos+1] = []
		doorsList[currentPos+1] = []
		roomsList[currentPos+2] = []
		doorsList[currentPos+2] = []
		roomsList[currentPos+3] = []
		doorsList[currentPos+3] = []
		for i in range(start.x, end.x+1):
			for j in range(start.y, end.y+1):
				var cellPosition = Vector2(i, j) - start
				var doorTile = doors.get_cell(i, j) - DOOR_ID
				if doorTile >= 0:
					var doorCodes = getDoorsSymetrics(DOOR_DIR[doorTile])
					var pos = cellPosition
					doorsList[currentPos].append([pos, doorCodes[0]])
					pos = cellPosition*Vector2(-1, 1) + Vector2(size.x, 0)
					doorsList[currentPos+1].append([pos, doorCodes[1]])
					pos = cellPosition*Vector2(1, -1) + Vector2(0, size.y)
					doorsList[currentPos+2].append([pos, doorCodes[2]])
					pos = cellPosition*Vector2(-1, -1) + size
					doorsList[currentPos+3].append([pos, doorCodes[3]])
				var tile = walls.get_cell(i, j)
				if tile != -1:
					var pos = cellPosition
					roomsList[currentPos].append([cellPosition, tile])
					pos = cellPosition*Vector2(-1, 1) + Vector2(size.x, 0)
					roomsList[currentPos+1].append([pos, tile])
					pos = cellPosition*Vector2(1, -1) + Vector2(0, size.y)
					roomsList[currentPos+2].append([pos, tile])
					pos = cellPosition*Vector2(-1, -1) + size
					roomsList[currentPos+3].append([pos, tile])
		currentPos += 4
	isInitialized = true

func getDoorsSymetrics(door):
	match door:
		\"N\": return \"NNSS\"
		\"S\": return \"SSNN\"
		\"E\": return \"EWEW\"
		\"W\": return \"WEWE\"
"

[node name="RoomsReader" type="Node2D"]
script = SubResource( 1 )

[node name="Walls" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 9, 9 )
format = 1
tile_data = PoolIntArray( 0, 1, 65538, 1, 1, 65538, 2, 1, 0, 3, 1, 0, 4, 1, 65538, 5, 1, 65536, 6, 1, 1, 65536, 1, 1, 65537, 4, 1, 65538, 4, 1, 65539, 4, 3, 65540, 4, 0, 65541, 4, 1, 65542, 1, 65537, 131072, 1, 2, 131073, 4, 3, 131074, 4, 1, 131075, 4, 2, 131076, 4, 2, 131077, 4, 2, 131078, 1, 65537, 196608, 1, 65538, 196609, 4, 3, 196610, 4, 0, 196611, 4, 2, 196612, 4, 2, 196613, 4, 0, 196614, 1, 65538, 262144, 1, 65538, 262145, 4, 3, 262146, 4, 3, 262147, 4, 1, 262148, 4, 3, 262149, 4, 1, 262150, 1, 65537, 327680, 1, 0, 327681, 4, 2, 327682, 4, 1, 327683, 4, 3, 327684, 4, 2, 327685, 4, 3, 327686, 1, 1, 393216, 1, 1, 393217, 1, 1, 393218, 1, 0, 393219, 1, 1, 393220, 1, 65537, 393221, 1, 65537, 393222, 1, 2, 458752, 1, 65538, 458753, 1, 65537, 458754, 1, 65537, 458755, 1, 1, 458756, 1, 1, 458757, 1, 0, 458758, 1, 0, 458759, 1, 0, 458760, 1, 65538, 458761, 1, 65537, 458762, 1, 65538, 458763, 1, 1, 458764, 1, 2, 524288, 1, 2, 524289, 4, 0, 524290, 4, 3, 524291, 4, 3, 524292, 4, 1, 524293, 4, 2, 524294, 4, 0, 524295, 4, 2, 524296, 4, 1, 524297, 4, 2, 524298, 4, 1, 524299, 4, 1, 524300, 1, 65536, 589824, 1, 0, 589825, 4, 0, 589826, 4, 3, 589827, 4, 2, 589828, 4, 1, 589829, 4, 3, 589830, 4, 3, 589831, 4, 3, 589832, 4, 0, 589833, 4, 3, 589834, 4, 3, 589835, 4, 3, 589836, 1, 2, 655360, 1, 0, 655361, 4, 3, 655362, 4, 1, 655363, 4, 3, 655364, 4, 2, 655365, 4, 3, 655366, 4, 2, 655367, 4, 3, 655368, 4, 1, 655369, 4, 2, 655370, 4, 2, 655371, 4, 0, 655372, 1, 2, 720896, 1, 65536, 720897, 1, 0, 720898, 1, 0, 720899, 1, 0, 720900, 1, 0, 720901, 1, 1, 720902, 1, 1, 720903, 1, 65538, 720904, 1, 65537, 720905, 1, 0, 720906, 1, 0, 720907, 1, 65538, 720908, 1, 65537, 786432, 1, 65537, 786433, 1, 65537, 786434, 1, 0, 786435, 1, 1, 786436, 1, 1, 851968, 1, 65538, 851969, 4, 0, 851970, 4, 0, 851971, 4, 2, 851972, 1, 65537, 917504, 1, 0, 917505, 4, 0, 917506, 4, 3, 917507, 4, 2, 917508, 1, 65538, 983040, 1, 65536, 983041, 4, 3, 983042, 4, 2, 983043, 4, 0, 983044, 1, 1, 1048576, 1, 2, 1048577, 1, 1, 1048578, 1, 1, 1048579, 1, 1, 1048580, 1, 2, 1114112, 1, 2, 1114113, 1, 2, 1114114, 1, 1, 1114115, 1, 1, 1114116, 1, 65538, 1114117, 1, 65538, 1114118, 1, 2, 1114119, 1, 0, 1114120, 1, 2, 1114121, 1, 1, 1114122, 1, 1, 1114123, 1, 65538, 1114124, 1, 65537, 1179648, 1, 2, 1179649, 4, 0, 1179650, 4, 1, 1179651, 1, 65538, 1179652, 4, 0, 1179653, 4, 2, 1179654, 1, 1, 1179655, 4, 2, 1179656, 4, 0, 1179657, 1, 1, 1179658, 4, 0, 1179659, 4, 3, 1179660, 1, 65538, 1245184, 1, 2, 1245185, 4, 0, 1245186, 4, 1, 1245187, 1, 65538, 1245188, 4, 0, 1245189, 4, 2, 1245190, 1, 65538, 1245191, 4, 3, 1245192, 4, 3, 1245193, 1, 0, 1245194, 4, 3, 1245195, 4, 1, 1245196, 1, 0, 1310720, 1, 2, 1310721, 4, 2, 1310722, 4, 2, 1310723, 1, 1, 1310724, 4, 3, 1310725, 4, 1, 1310726, 1, 65537, 1310727, 4, 3, 1310728, 4, 3, 1310729, 1, 1, 1310730, 4, 2, 1310731, 4, 0, 1310732, 1, 65538, 1376256, 1, 1, 1376257, 5, 0, 1376258, 2, 65536, 1376259, 1, 1, 1376260, 2, 65536, 1376261, 5, 0, 1376262, 1, 0, 1376263, 5, 0, 1376264, 2, 65536, 1376265, 1, 0, 1376266, 2, 65536, 1376267, 5, 0, 1376268, 1, 65537, 1441792, 1, 65537, 1441793, 4, 0, 1441794, 4, 1, 1441795, 4, 0, 1441796, 4, 3, 1441797, 4, 3, 1441798, 4, 3, 1441799, 4, 2, 1441800, 4, 3, 1441801, 4, 2, 1441802, 4, 1, 1441803, 4, 1, 1441804, 1, 65537, 1507328, 1, 0, 1507329, 4, 2, 1507330, 4, 2, 1507331, 4, 0, 1507332, 4, 3, 1507333, 4, 0, 1507334, 4, 1, 1507335, 4, 3, 1507336, 4, 3, 1507337, 4, 3, 1507338, 4, 3, 1507339, 4, 0, 1507340, 1, 65538, 1572864, 1, 65536, 1572865, 1, 0, 1572866, 1, 0, 1572867, 1, 1, 1572868, 1, 65536, 1572869, 1, 65537, 1572870, 1, 2, 1572871, 1, 65537, 1572872, 1, 65537, 1572873, 1, 65536, 1572874, 1, 2, 1572875, 1, 0, 1572876, 1, 0, 1638402, 1, 65536, 1638403, 1, 1, 1638404, 1, 65536, 1638405, 1, 0, 1638406, 1, 2, 1703938, 1, 65538, 1703939, 4, 2, 1703940, 4, 1, 1703941, 4, 3, 1703942, 1, 65537, 1769472, 1, 1, 1769473, 1, 0, 1769474, 1, 65538, 1769475, 4, 1, 1769476, 4, 3, 1769477, 4, 2, 1769478, 1, 0, 1835008, 1, 65537, 1835009, 4, 3, 1835010, 4, 0, 1835011, 4, 2, 1835012, 4, 2, 1835013, 4, 0, 1835014, 1, 0, 1900544, 1, 65536, 1900545, 4, 1, 1900546, 4, 2, 1900547, 4, 3, 1900548, 4, 0, 1900549, 4, 2, 1900550, 1, 1, 1966080, 1, 65536, 1966081, 4, 3, 1966082, 4, 3, 1966083, 4, 1, 1966084, 4, 1, 1966085, 4, 1, 1966086, 1, 1, 2031616, 1, 1, 2031617, 1, 65537, 2031618, 1, 65537, 2031619, 1, 2, 2031620, 1, 1, 2031621, 1, 65537, 2031622, 1, 65537, 2097152, 1, 0, 2097153, 1, 65537, 2097154, 1, 0, 2097155, 1, 2, 2097156, 1, 2, 2097157, 1, 65538, 2097158, 1, 65537, 2162688, 1, 65538, 2162689, 4, 1, 2162690, 4, 3, 2162691, 4, 2, 2162692, 4, 3, 2162693, 4, 2, 2162694, 1, 0, 2228224, 1, 0, 2228225, 4, 1, 2228226, 4, 3, 2228227, 4, 1, 2228228, 4, 0, 2228229, 4, 3, 2228230, 1, 0, 2293760, 1, 2, 2293761, 4, 3, 2293762, 4, 3, 2293763, 4, 3, 2293764, 4, 3, 2293765, 4, 0, 2293766, 1, 2, 2359296, 1, 65538, 2359297, 1, 1, 2359298, 4, 1, 2359299, 4, 0, 2359300, 4, 1, 2359301, 1, 65537, 2359302, 1, 65538, 2424833, 1, 0, 2424834, 1, 2, 2424835, 1, 2, 2424836, 1, 0, 2424837, 1, 65536, 2490368, 1, 1, 2490369, 1, 2, 2490370, 1, 65536, 2490371, 1, 0, 2490372, 1, 1, 2490373, 1, 1, 2490374, 1, 65536, 2490375, 1, 65536, 2490376, 1, 2, 2490377, 1, 65538, 2490378, 1, 65536, 2490379, 1, 0, 2490380, 1, 65536, 2555904, 1, 1, 2555905, 1, 0, 2555906, 1, 65537, 2555907, 4, 0, 2555908, 4, 3, 2555909, 4, 1, 2555910, 4, 0, 2555911, 4, 1, 2555912, 4, 3, 2555913, 4, 3, 2555914, 1, 0, 2555915, 1, 2, 2555916, 1, 65538, 2621440, 1, 0, 2621441, 1, 65537, 2621442, 4, 1, 2621443, 4, 3, 2621444, 4, 1, 2621445, 4, 1, 2621446, 4, 0, 2621447, 4, 2, 2621448, 4, 2, 2621449, 4, 1, 2621450, 4, 0, 2621451, 1, 0, 2621452, 1, 65538, 2686976, 1, 65538, 2686977, 4, 3, 2686978, 4, 0, 2686979, 3, 0, 2686980, 5, 3, 2686981, 4, 0, 2686982, 4, 2, 2686983, 5, 0, 2686984, 5, 2, 2686985, 3, 0, 2686986, 4, 0, 2686987, 4, 2, 2686988, 1, 65538, 2752512, 1, 1, 2752513, 4, 1, 2752514, 4, 3, 2752515, 4, 2, 2752516, 4, 0, 2752517, 4, 0, 2752518, 4, 0, 2752519, 4, 2, 2752520, 4, 2, 2752521, 4, 3, 2752522, 4, 2, 2752523, 4, 3, 2752524, 1, 0, 2818048, 1, 0, 2818049, 4, 2, 2818050, 4, 1, 2818051, 4, 3, 2818052, 4, 0, 2818053, 4, 3, 2818054, 4, 1, 2818055, 4, 3, 2818056, 4, 0, 2818057, 4, 1, 2818058, 4, 2, 2818059, 4, 3, 2818060, 1, 65537, 2883584, 1, 65537, 2883585, 4, 0, 2883586, 4, 0, 2883587, 4, 2, 2883588, 4, 0, 2883589, 4, 1, 2883590, 4, 3, 2883591, 4, 0, 2883592, 4, 0, 2883593, 4, 2, 2883594, 4, 3, 2883595, 4, 3, 2883596, 1, 0, 2949120, 1, 65536, 2949121, 4, 3, 2949122, 4, 2, 2949123, 3, 0, 2949124, 4, 1, 2949125, 5, 1, 2949126, 4, 0, 2949127, 4, 0, 2949128, 5, 0, 2949129, 3, 0, 2949130, 4, 0, 2949131, 4, 3, 2949132, 1, 65538, 3014656, 1, 0, 3014657, 1, 65537, 3014658, 4, 2, 3014659, 4, 1, 3014660, 4, 3, 3014661, 4, 3, 3014662, 4, 2, 3014663, 4, 3, 3014664, 4, 3, 3014665, 4, 2, 3014666, 4, 1, 3014667, 1, 65537, 3014668, 1, 65537, 3080192, 1, 2, 3080193, 1, 1, 3080194, 1, 0, 3080195, 4, 0, 3080196, 4, 0, 3080197, 4, 3, 3080198, 4, 3, 3080199, 4, 1, 3080200, 4, 2, 3080201, 4, 1, 3080202, 1, 2, 3080203, 1, 65538, 3080204, 1, 2, 3145728, 1, 1, 3145729, 1, 0, 3145730, 1, 65538, 3145731, 1, 2, 3145732, 1, 2, 3145733, 1, 0, 3145734, 1, 65536, 3145735, 1, 2, 3145736, 1, 0, 3145737, 1, 65538, 3145738, 1, 65537, 3145739, 1, 2, 3145740, 1, 1, 3211264, 1, 1, 3211265, 1, 2, 3211266, 1, 0, 3211267, 1, 65538, 3211268, 1, 65538, 3211269, 1, 65537, 3211270, 1, 65538, 3211271, 1, 65536, 3211272, 1, 1, 3211273, 1, 2, 3211274, 1, 1, 3211275, 1, 2, 3211276, 1, 65537, 3276800, 1, 65537, 3276801, 4, 1, 3276802, 4, 0, 3276803, 4, 0, 3276804, 4, 1, 3276805, 4, 0, 3276806, 4, 0, 3276807, 4, 0, 3276808, 4, 3, 3276809, 4, 2, 3276810, 4, 2, 3276811, 4, 1, 3276812, 1, 0, 3342336, 1, 65538, 3342337, 4, 0, 3342338, 4, 3, 3342339, 4, 1, 3342340, 4, 1, 3342341, 4, 0, 3342342, 4, 0, 3342343, 4, 0, 3342344, 4, 0, 3342345, 4, 2, 3342346, 4, 1, 3342347, 4, 2, 3342348, 1, 1, 3407872, 1, 2, 3407873, 4, 1, 3407874, 4, 0, 3407875, 4, 0, 3407876, 4, 0, 3407877, 4, 0, 3407878, 4, 0, 3407879, 4, 0, 3407880, 4, 0, 3407881, 4, 0, 3407882, 4, 0, 3407883, 4, 0, 3407884, 1, 65538, 3473408, 1, 2, 3473409, 3, 0, 3473410, 5, 2, 3473411, 4, 0, 3473412, 5, 2, 3473413, 4, 0, 3473414, 4, 0, 3473415, 4, 2, 3473416, 5, 2, 3473417, 5, 0, 3473418, 5, 2, 3473419, 3, 0, 3473420, 1, 2, 3538944, 1, 1, 3538945, 4, 0, 3538946, 4, 0, 3538947, 4, 0, 3538948, 4, 0, 3538949, 4, 0, 3538950, 4, 0, 3538951, 4, 0, 3538952, 4, 1, 3538953, 4, 0, 3538954, 4, 0, 3538955, 4, 0, 3538956, 1, 0, 3604480, 1, 0, 3604481, 4, 3, 3604482, 4, 2, 3604483, 4, 3, 3604484, 4, 2, 3604485, 4, 2, 3604486, 4, 0, 3604487, 4, 1, 3604488, 4, 0, 3604489, 4, 3, 3604490, 4, 2, 3604491, 4, 3, 3604492, 1, 1, 3670016, 1, 65536, 3670017, 4, 0, 3670018, 4, 0, 3670019, 4, 0, 3670020, 4, 3, 3670021, 4, 0, 3670022, 4, 0, 3670023, 4, 0, 3670024, 4, 1, 3670025, 4, 0, 3670026, 4, 0, 3670027, 4, 0, 3670028, 1, 65538, 3735552, 1, 65537, 3735553, 3, 0, 3735554, 5, 1, 3735555, 5, 0, 3735556, 5, 0, 3735557, 4, 0, 3735558, 4, 0, 3735559, 4, 3, 3735560, 4, 0, 3735561, 5, 2, 3735562, 5, 2, 3735563, 3, 0, 3735564, 1, 65537, 3801088, 1, 65537, 3801089, 4, 0, 3801090, 4, 0, 3801091, 4, 0, 3801092, 4, 0, 3801093, 4, 0, 3801094, 4, 0, 3801095, 4, 0, 3801096, 4, 0, 3801097, 4, 0, 3801098, 4, 0, 3801099, 4, 0, 3801100, 1, 65538, 3866624, 1, 65538, 3866625, 4, 3, 3866626, 4, 0, 3866627, 4, 2, 3866628, 4, 0, 3866629, 4, 3, 3866630, 4, 2, 3866631, 4, 1, 3866632, 4, 2, 3866633, 4, 1, 3866634, 4, 0, 3866635, 4, 2, 3866636, 1, 65538, 3932160, 1, 65536, 3932161, 4, 1, 3932162, 4, 1, 3932163, 4, 2, 3932164, 4, 1, 3932165, 4, 0, 3932166, 4, 3, 3932167, 4, 3, 3932168, 4, 2, 3932169, 4, 0, 3932170, 4, 3, 3932171, 4, 2, 3932172, 1, 65538, 3997696, 1, 0, 3997697, 1, 65536, 3997698, 1, 65536, 3997699, 1, 0, 3997700, 1, 1, 3997701, 1, 0, 3997702, 1, 65538, 3997703, 1, 65537, 3997704, 1, 0, 3997705, 1, 65538, 3997706, 1, 65537, 3997707, 1, 1, 3997708, 1, 65537, 4063234, 1, 1, 4063235, 1, 65536, 4063236, 1, 65537, 4063237, 1, 2, 4063238, 1, 65537, 4063239, 1, 65537, 4128770, 1, 0, 4128771, 4, 1, 4128772, 4, 1, 4128773, 4, 2, 4128774, 4, 0, 4128775, 1, 0, 4194304, 1, 65537, 4194305, 1, 65538, 4194306, 1, 0, 4194307, 4, 3, 4194308, 4, 0, 4194309, 4, 0, 4194310, 4, 1, 4194311, 1, 65537, 4194312, 1, 1, 4194313, 1, 0, 4259840, 1, 65538, 4259841, 4, 0, 4259842, 4, 3, 4259843, 4, 0, 4259844, 4, 3, 4259845, 4, 3, 4259846, 4, 0, 4259847, 4, 1, 4259848, 4, 2, 4259849, 1, 1, 4325376, 1, 65537, 4325377, 4, 3, 4325378, 4, 0, 4325379, 4, 2, 4325380, 4, 2, 4325381, 4, 2, 4325382, 4, 0, 4325383, 4, 0, 4325384, 4, 3, 4325385, 1, 1, 4390912, 1, 2, 4390913, 4, 3, 4390914, 4, 1, 4390915, 4, 2, 4390916, 4, 1, 4390917, 4, 3, 4390918, 4, 0, 4390919, 4, 2, 4390920, 4, 0, 4390921, 1, 65538, 4456448, 1, 0, 4456449, 1, 1, 4456450, 1, 2, 4456451, 1, 0, 4456452, 1, 2, 4456453, 1, 65537, 4456454, 1, 65538, 4456455, 1, 1, 4456456, 1, 65536, 4456457, 1, 2, 4521985, 1, 0, 4521986, 1, 0, 4521987, 1, 65536, 4521988, 1, 65537, 4521989, 1, 0, 4521990, 1, 2, 4521991, 1, 2, 4587520, 1, 65537, 4587521, 1, 0, 4587522, 4, 3, 4587523, 4, 2, 4587524, 4, 1, 4587525, 4, 0, 4587526, 4, 3, 4587527, 1, 65537, 4587528, 1, 2, 4653056, 1, 1, 4653057, 4, 0, 4653058, 4, 2, 4653059, 4, 0, 4653060, 4, 2, 4653061, 4, 3, 4653062, 4, 1, 4653063, 4, 1, 4653064, 1, 65537, 4718592, 1, 65537, 4718593, 4, 2, 4718594, 4, 3, 4718595, 4, 1, 4718596, 4, 2, 4718597, 4, 0, 4718598, 4, 2, 4718599, 4, 0, 4718600, 1, 2, 4784128, 1, 2, 4784129, 4, 3, 4784130, 4, 2, 4784131, 5, 0, 4784132, 3, 0, 4784133, 5, 0, 4784134, 5, 0, 4784135, 4, 3, 4784136, 1, 65538, 4849664, 1, 0, 4849665, 4, 3, 4849666, 4, 2, 4849667, 4, 2, 4849668, 4, 1, 4849669, 4, 2, 4849670, 4, 2, 4849671, 4, 2, 4849672, 1, 65538, 4915200, 1, 65537, 4915201, 4, 3, 4915202, 4, 0, 4915203, 4, 2, 4915204, 5, 0, 4915205, 4, 1, 4915206, 4, 2, 4915207, 4, 1, 4915208, 1, 1, 4980736, 1, 0, 4980737, 1, 65538, 4980738, 4, 1, 4980739, 4, 3, 4980740, 4, 0, 4980741, 4, 2, 4980742, 4, 1, 4980743, 1, 65537, 4980744, 1, 65537, 5046273, 1, 65538, 5046274, 1, 0, 5046275, 1, 65538, 5046276, 1, 1, 5046277, 1, 65538, 5046278, 1, 65537, 5046279, 1, 65538, 5111808, 1, 65536, 5111809, 1, 65537, 5111810, 1, 65538, 5111811, 1, 2, 5111812, 1, 1, 5111813, 1, 1, 5111814, 1, 0, 5177344, 1, 65538, 5177345, 4, 0, 5177346, 4, 2, 5177347, 4, 1, 5177348, 4, 3, 5177349, 4, 2, 5177350, 1, 65538, 5242880, 1, 0, 5242881, 4, 1, 5242882, 4, 2, 5242883, 4, 1, 5242884, 4, 2, 5242885, 4, 0, 5242886, 1, 65537, 5308416, 1, 0, 5308417, 4, 1, 5308418, 4, 0, 5308419, 4, 0, 5308420, 4, 0, 5308421, 4, 1, 5308422, 1, 65536, 5373952, 1, 2, 5373953, 4, 1, 5373954, 4, 2, 5373955, 4, 1, 5373956, 4, 0, 5373957, 4, 2, 5373958, 1, 65537, 5439488, 1, 2, 5439489, 4, 1, 5439490, 4, 0, 5439491, 4, 1, 5439492, 4, 2, 5439493, 4, 0, 5439494, 1, 65538, 5505024, 1, 65537, 5505025, 1, 65538, 5505026, 1, 65537, 5505027, 1, 0, 5505028, 1, 65537, 5505029, 1, 2, 5505030, 1, 65538, 5570560, 1, 0, 5570561, 1, 65537, 5570562, 1, 2, 5570563, 1, 1, 5570564, 1, 65537, 5636096, 1, 1, 5636097, 4, 3, 5636098, 4, 0, 5636099, 4, 3, 5636100, 1, 0, 5701632, 1, 0, 5701633, 4, 0, 5701634, 4, 0, 5701635, 4, 2, 5701636, 1, 65538, 5767168, 1, 2, 5767169, 4, 3, 5767170, 4, 0, 5767171, 4, 0, 5767172, 1, 0, 5832704, 1, 65537, 5832705, 1, 0, 5832706, 1, 65538, 5832707, 1, 65537, 5832708, 1, 0, 5898240, 1, 65538, 5898241, 1, 1, 5898242, 1, 2, 5898243, 1, 65536, 5898244, 1, 65536, 5898245, 1, 2, 5898246, 1, 1, 5963776, 1, 0, 5963777, 4, 2, 5963778, 4, 1, 5963779, 4, 2, 5963780, 4, 3, 5963781, 4, 3, 5963782, 1, 1, 6029312, 1, 1, 6029313, 1, 2, 6029314, 1, 2, 6029315, 1, 0, 6029316, 1, 2, 6029317, 1, 0, 6029318, 1, 65538, 6094848, 1, 2, 6094849, 1, 2, 6094850, 1, 2, 6160384, 1, 65538, 6160385, 4, 1, 6160386, 1, 2, 6225920, 1, 65538, 6225921, 4, 0, 6225922, 1, 1, 6291456, 1, 2, 6291457, 4, 3, 6291458, 1, 65538, 6356992, 1, 2, 6356993, 4, 2, 6356994, 1, 65537, 6422528, 1, 65537, 6422529, 4, 1, 6422530, 1, 0, 6488064, 1, 1, 6488065, 1, 1, 6488066, 1, 65537, 6553600, 1, 0, 6553601, 3, 0, 6553602, 1, 65537, 6553603, 3, 0, 6553604, 1, 1, 6553605, 1, 65538, 6553606, 1, 2, 6553607, 1, 1, 6553608, 1, 65538, 6553609, 1, 1, 6553610, 1, 2, 6553611, 3, 0, 6553612, 1, 65538, 6553613, 3, 0, 6553614, 1, 1, 6619136, 3, 0, 6619137, 4, 3, 6619138, 4, 0, 6619139, 4, 0, 6619140, 4, 0, 6619141, 4, 0, 6619142, 4, 0, 6619143, 4, 0, 6619144, 4, 0, 6619145, 4, 3, 6619146, 4, 0, 6619147, 4, 0, 6619148, 4, 0, 6619149, 4, 0, 6619150, 3, 0, 6684672, 1, 2, 6684673, 4, 0, 6684674, 4, 0, 6684675, 4, 0, 6684676, 4, 0, 6684677, 4, 0, 6684678, 4, 1, 6684679, 4, 0, 6684680, 4, 2, 6684681, 4, 0, 6684682, 4, 0, 6684683, 4, 0, 6684684, 4, 0, 6684685, 4, 0, 6684686, 1, 65536, 6750208, 3, 0, 6750209, 4, 0, 6750210, 4, 0, 6750211, 1, 1, 6750212, 1, 65536, 6750213, 1, 1, 6750214, 1, 65538, 6750215, 4, 0, 6750216, 1, 1, 6750217, 1, 2, 6750218, 1, 0, 6750219, 1, 1, 6750220, 4, 1, 6750221, 4, 0, 6750222, 3, 0, 6815744, 1, 65537, 6815745, 4, 0, 6815746, 4, 0, 6815747, 1, 0, 6815748, 1, 65537, 6815749, 1, 65537, 6815750, 1, 65537, 6815751, 4, 0, 6815752, 1, 1, 6815753, 1, 65538, 6815754, 1, 1, 6815755, 1, 1, 6815756, 4, 2, 6815757, 4, 0, 6815758, 1, 2, 6881280, 1, 65538, 6881281, 4, 1, 6881282, 4, 1, 6881283, 1, 1, 6881284, 1, 0, 6881285, 3, 0, 6881286, 4, 0, 6881287, 4, 3, 6881288, 4, 0, 6881289, 3, 0, 6881290, 1, 65537, 6881291, 1, 1, 6881292, 4, 0, 6881293, 4, 0, 6881294, 1, 65538, 6946816, 1, 2, 6946817, 4, 0, 6946818, 4, 0, 6946819, 1, 1, 6946820, 1, 65536, 6946821, 4, 0, 6946822, 4, 1, 6946823, 4, 2, 6946824, 4, 0, 6946825, 4, 0, 6946826, 1, 2, 6946827, 1, 65537, 6946828, 4, 0, 6946829, 4, 3, 6946830, 1, 1, 7012352, 1, 1, 7012353, 4, 0, 7012354, 4, 0, 7012355, 4, 0, 7012356, 4, 0, 7012357, 4, 0, 7012358, 4, 0, 7012359, 4, 0, 7012360, 4, 0, 7012361, 4, 0, 7012362, 4, 0, 7012363, 4, 0, 7012364, 4, 2, 7012365, 4, 0, 7012366, 1, 0, 7077888, 1, 65536, 7077889, 4, 0, 7077890, 4, 0, 7077891, 1, 1, 7077892, 1, 0, 7077893, 4, 0, 7077894, 4, 0, 7077895, 4, 0, 7077896, 4, 2, 7077897, 4, 1, 7077898, 1, 0, 7077899, 1, 0, 7077900, 4, 0, 7077901, 4, 1, 7077902, 1, 1, 7143424, 1, 2, 7143425, 4, 0, 7143426, 4, 0, 7143427, 1, 65537, 7143428, 1, 0, 7143429, 3, 0, 7143430, 4, 0, 7143431, 4, 1, 7143432, 4, 0, 7143433, 3, 0, 7143434, 1, 0, 7143435, 1, 2, 7143436, 4, 0, 7143437, 4, 0, 7143438, 1, 65536, 7208960, 1, 0, 7208961, 4, 1, 7208962, 4, 0, 7208963, 1, 0, 7208964, 1, 2, 7208965, 1, 65536, 7208966, 1, 1, 7208967, 4, 1, 7208968, 1, 0, 7208969, 1, 2, 7208970, 1, 2, 7208971, 1, 0, 7208972, 4, 0, 7208973, 4, 0, 7208974, 1, 2, 7274496, 3, 0, 7274497, 4, 0, 7274498, 4, 0, 7274499, 1, 65537, 7274500, 1, 65538, 7274501, 1, 0, 7274502, 1, 0, 7274503, 5, 2, 7274504, 1, 2, 7274505, 1, 65538, 7274506, 1, 65537, 7274507, 1, 0, 7274508, 4, 2, 7274509, 4, 1, 7274510, 3, 0, 7340032, 1, 65537, 7340033, 4, 0, 7340034, 4, 0, 7340035, 4, 0, 7340036, 4, 0, 7340037, 4, 0, 7340038, 4, 0, 7340039, 4, 0, 7340040, 4, 0, 7340041, 4, 1, 7340042, 4, 0, 7340043, 4, 0, 7340044, 4, 3, 7340045, 4, 0, 7340046, 1, 1, 7405568, 3, 0, 7405569, 4, 0, 7405570, 4, 0, 7405571, 4, 0, 7405572, 4, 0, 7405573, 4, 0, 7405574, 4, 0, 7405575, 4, 3, 7405576, 4, 0, 7405577, 4, 1, 7405578, 4, 0, 7405579, 4, 0, 7405580, 4, 3, 7405581, 4, 3, 7405582, 3, 0, 7471104, 1, 2, 7471105, 3, 0, 7471106, 1, 0, 7471107, 3, 0, 7471108, 1, 65538, 7471109, 1, 65538, 7471110, 1, 65538, 7471111, 1, 0, 7471112, 1, 2, 7471113, 1, 0, 7471114, 1, 0, 7471115, 3, 0, 7471116, 1, 1, 7471117, 3, 0, 7471118, 1, 65538, 7536640, 1, 2, 7536641, 1, 1, 7536642, 1, 65536, 7536643, 1, 65538, 7536644, 1, 2, 7536645, 1, 0, 7536646, 1, 1, 7536647, 1, 1, 7536648, 1, 1, 7602176, 1, 0, 7602177, 1, 0, 7602178, 1, 0, 7602179, 4, 0, 7602180, 4, 0, 7602181, 4, 0, 7602182, 1, 65537, 7602183, 1, 2, 7602184, 1, 0, 7667712, 1, 65538, 7667713, 1, 2, 7667714, 4, 0, 7667715, 4, 2, 7667716, 4, 0, 7667717, 4, 3, 7667718, 4, 1, 7667719, 1, 1, 7667720, 1, 0, 7733248, 1, 65537, 7733249, 4, 1, 7733250, 4, 2, 7733251, 4, 2, 7733252, 4, 0, 7733253, 4, 0, 7733254, 4, 0, 7733255, 4, 1, 7733256, 1, 65538, 7798784, 1, 0, 7798785, 4, 0, 7798786, 4, 0, 7798787, 4, 0, 7798788, 4, 0, 7798789, 4, 0, 7798790, 4, 0, 7798791, 4, 0, 7798792, 1, 65536, 7864320, 1, 65538, 7864321, 4, 0, 7864322, 4, 2, 7864323, 4, 2, 7864324, 4, 0, 7864325, 4, 2, 7864326, 4, 0, 7864327, 4, 0, 7864328, 1, 0, 7929856, 1, 65537, 7929857, 1, 65537, 7929858, 4, 0, 7929859, 4, 0, 7929860, 4, 0, 7929861, 4, 1, 7929862, 4, 1, 7929863, 1, 1, 7929864, 1, 65537, 7995392, 1, 0, 7995393, 1, 2, 7995394, 1, 65537, 7995395, 4, 0, 7995396, 4, 1, 7995397, 4, 0, 7995398, 1, 1, 7995399, 1, 65536, 7995400, 1, 65538, 8060928, 1, 2, 8060929, 1, 0, 8060930, 1, 65538, 8060931, 1, 65538, 8060932, 1, 65536, 8060933, 1, 1, 8060934, 1, 65538, 8060935, 1, 65536, 8060936, 1, 2, 8126464, 1, 2, 8126465, 1, 0, 8126466, 1, 65537, 8126467, 1, 2, 8126468, 1, 2, 8126469, 1, 65536, 8126470, 1, 0, 8126471, 1, 65537, 8126472, 1, 2, 8126473, 1, 0, 8126474, 1, 65537, 8126475, 1, 0, 8126476, 1, 2, 8126477, 1, 65538, 8192000, 1, 65537, 8192001, 4, 2, 8192002, 4, 0, 8192003, 4, 0, 8192004, 4, 1, 8192005, 4, 0, 8192006, 4, 0, 8192007, 4, 2, 8192008, 4, 3, 8192009, 4, 2, 8192010, 4, 2, 8192011, 4, 0, 8192012, 4, 0, 8192013, 1, 1, 8257536, 1, 2, 8257537, 4, 1, 8257538, 4, 0, 8257539, 4, 0, 8257540, 4, 0, 8257541, 4, 0, 8257542, 4, 0, 8257543, 4, 0, 8257544, 4, 0, 8257545, 4, 0, 8257546, 4, 0, 8257547, 4, 0, 8257548, 4, 0, 8257549, 1, 65536, 8323072, 1, 65537, 8323073, 4, 0, 8323074, 4, 0, 8323075, 4, 0, 8323076, 4, 0, 8323077, 4, 0, 8323078, 4, 0, 8323079, 4, 0, 8323080, 4, 0, 8323081, 4, 0, 8323082, 4, 0, 8323083, 4, 2, 8323084, 4, 0, 8323085, 1, 1, 8388608, 1, 2, 8388609, 4, 0, 8388610, 4, 0, 8388611, 4, 0, 8388612, 4, 0, 8388613, 4, 3, 8388614, 4, 0, 8388615, 4, 1, 8388616, 4, 0, 8388617, 4, 3, 8388618, 4, 0, 8388619, 4, 3, 8388620, 4, 0, 8388621, 1, 65536, 8454144, 1, 0, 8454145, 4, 0, 8454146, 4, 0, 8454147, 4, 0, 8454148, 4, 3, 8454149, 4, 2, 8454150, 4, 0, 8454151, 4, 0, 8454152, 4, 3, 8454153, 4, 0, 8454154, 4, 0, 8454155, 4, 1, 8454156, 4, 3, 8454157, 1, 65538, 8519680, 1, 65537, 8519681, 1, 1, 8519682, 1, 2, 8519683, 1, 65536, 8519684, 1, 65536, 8519685, 1, 2, 8519686, 1, 65538, 8519687, 1, 1, 8519688, 1, 0, 8519689, 1, 65536, 8519690, 1, 1, 8519691, 1, 65536, 8519692, 1, 2, 8519693, 1, 2, 8585216, 1, 65536, 8585217, 1, 1, 8585218, 1, 2, 8585219, 1, 1, 8585220, 1, 1, 8585221, 1, 1, 8585222, 1, 1, 8585223, 1, 2, 8585224, 1, 65538, 8585225, 1, 2, 8650752, 1, 65538, 8650753, 4, 0, 8650754, 4, 0, 8650755, 4, 0, 8650756, 4, 1, 8650757, 4, 0, 8650758, 4, 0, 8650759, 4, 2, 8650760, 4, 0, 8650761, 1, 65538, 8716288, 1, 2, 8716289, 4, 1, 8716290, 4, 2, 8716291, 4, 0, 8716292, 4, 1, 8716293, 4, 0, 8716294, 4, 0, 8716295, 4, 3, 8716296, 4, 0, 8716297, 1, 0, 8781824, 1, 2, 8781825, 4, 0, 8781826, 4, 0, 8781827, 4, 0, 8781828, 4, 0, 8781829, 4, 0, 8781830, 4, 0, 8781831, 4, 0, 8781832, 4, 1, 8781833, 1, 2, 8847360, 1, 2, 8847361, 4, 2, 8847362, 4, 0, 8847363, 4, 0, 8847364, 4, 1, 8847365, 4, 1, 8847366, 4, 0, 8847367, 4, 2, 8847368, 4, 0, 8847369, 1, 1, 8912896, 1, 65538, 8912897, 4, 0, 8912898, 4, 0, 8912899, 4, 0, 8912900, 4, 3, 8912901, 4, 1, 8912902, 4, 0, 8912903, 4, 0, 8912904, 4, 0, 8912905, 1, 65536, 8978432, 1, 1, 8978433, 4, 0, 8978434, 4, 0, 8978435, 4, 0, 8978436, 4, 3, 8978437, 4, 0, 8978438, 4, 0, 8978439, 4, 0, 8978440, 4, 0, 8978441, 1, 65537, 9043968, 1, 0, 9043969, 4, 0, 9043970, 4, 1, 9043971, 4, 0, 9043972, 4, 2, 9043973, 4, 2, 9043974, 4, 0, 9043975, 4, 2, 9043976, 4, 0, 9043977, 1, 65538, 9109504, 1, 0, 9109505, 1, 65538, 9109506, 1, 0, 9109507, 1, 0, 9109508, 1, 1, 9109509, 1, 0, 9109510, 1, 0, 9109511, 1, 0, 9109512, 1, 1, 9109513, 1, 1, 9175040, 1, 1, 9175041, 1, 1, 9175042, 1, 65537, 9175043, 1, 2, 9175044, 1, 65537, 9175045, 1, 65538, 9175046, 1, 1, 9175047, 1, 65537, 9175048, 1, 65538, 9175049, 1, 65537, 9240576, 1, 1, 9240577, 4, 0, 9240578, 4, 0, 9240579, 4, 0, 9240580, 4, 0, 9240581, 4, 0, 9240582, 4, 0, 9240583, 4, 0, 9240584, 4, 0, 9240585, 1, 65536, 9306112, 1, 65538, 9306113, 4, 2, 9306114, 4, 1, 9306115, 4, 0, 9306116, 4, 1, 9306117, 4, 0, 9306118, 4, 0, 9306119, 4, 0, 9306120, 4, 0, 9306121, 1, 65538, 9371648, 1, 65538, 9371649, 4, 0, 9371650, 1, 0, 9371651, 4, 0, 9371652, 4, 0, 9371653, 4, 2, 9371654, 4, 0, 9371655, 1, 1, 9371656, 4, 0, 9371657, 1, 1, 9437184, 1, 65537, 9437185, 4, 0, 9437186, 1, 65536, 9437187, 4, 0, 9437188, 4, 1, 9437189, 4, 0, 9437190, 4, 2, 9437191, 1, 1, 9437192, 4, 0, 9437193, 1, 65538, 9502720, 1, 65536, 9502721, 1, 65538, 9502722, 1, 0, 9502723, 1, 65538, 9502724, 1, 65538, 9502725, 1, 0, 9502726, 1, 1, 9502727, 1, 1, 9502728, 1, 65538, 9502729, 1, 2, 9568256, 1, 65536, 9568257, 1, 65538, 9568258, 1, 65538, 9568259, 1, 2, 9568260, 1, 65536, 9633792, 1, 65537, 9633793, 4, 3, 9633794, 4, 3, 9633795, 4, 3, 9633796, 1, 65538, 9699328, 1, 2, 9699329, 4, 0, 9699330, 4, 0, 9699331, 4, 0, 9699332, 1, 65537, 9764864, 1, 1, 9764865, 1, 65537, 9764866, 1, 65537, 9764867, 1, 65538, 9764868, 1, 65537, 9830400, 1, 65538, 9830401, 1, 0, 9830402, 1, 65537, 9830403, 1, 0, 9895936, 1, 65537, 9895937, 4, 0, 9895938, 4, 2, 9895939, 1, 65537, 9961472, 1, 2, 9961473, 4, 2, 9961474, 4, 0, 9961475, 1, 1, 10027008, 1, 65536, 10027009, 4, 1, 10027010, 4, 0, 10027011, 1, 2, 10092544, 1, 2, 10092545, 1, 65537, 10092546, 1, 0, 10092547, 1, 2 )

[node name="Limits" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 9, 9 )
format = 1
tile_data = PoolIntArray( 0, 1, 0, 393222, 2, 0, 458752, 1, 0, 720908, 2, 0, 786432, 1, 0, 1048580, 2, 0, 1114112, 1, 0, 1572876, 2, 0, 1638400, 1, 0, 2031622, 2, 0, 2097152, 1, 0, 2424838, 2, 0, 2490368, 1, 0, 3145740, 2, 0, 3211264, 1, 0, 3342336, 6, 0, 3342348, 4, 0, 3866624, 6, 0, 3866636, 4, 0, 3997708, 2, 0, 4063232, 1, 0, 4456457, 2, 0, 4521984, 1, 0, 5046280, 2, 0, 5111808, 1, 0, 5505030, 2, 0, 5570560, 1, 0, 5832708, 2, 0, 5898240, 1, 0, 6029318, 2, 0, 6094848, 1, 0, 6488066, 2, 0, 6553600, 1, 0, 7471118, 2, 0, 7536640, 1, 0, 8060936, 2, 0, 8126464, 1, 0, 8519693, 2, 0, 8585216, 1, 0, 8585219, 3, 0, 8585222, 3, 0, 8716288, 6, 0, 8716297, 4, 0, 8847360, 6, 0, 8847369, 4, 0, 8978432, 6, 0, 8978441, 4, 0, 9109507, 5, 0, 9109510, 5, 0, 9109513, 2, 0, 9175040, 1, 0, 9502729, 2, 0, 9568256, 1, 0, 9764868, 2, 0, 9830400, 1, 0, 10092547, 2, 0 )

[node name="Doors" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 9, 9 )
format = 1
tile_data = PoolIntArray( 3, 3, 0, 458755, 3, 0, 458761, 3, 0, 589824, 6, 0, 589836, 4, 0, 720899, 5, 0, 720905, 5, 0, 851968, 6, 0, 917504, 6, 0, 983040, 6, 0, 1507328, 6, 0, 1507340, 4, 0, 1572867, 5, 0, 1572870, 5, 0, 1572873, 5, 0, 1638404, 3, 0, 1900544, 6, 0, 2228224, 6, 0, 2228230, 4, 0, 2424835, 5, 0, 2490374, 3, 0, 2818048, 6, 0, 2818060, 4, 0, 3145734, 5, 0, 3211266, 3, 0, 3211274, 3, 0, 3604480, 6, 0, 3604492, 4, 0, 3997698, 5, 0, 3997706, 5, 0, 4325376, 6, 0, 4325385, 4, 0, 4456450, 5, 0, 4456455, 5, 0, 4521988, 3, 0, 4784128, 6, 0, 4784136, 4, 0, 5046276, 5, 0, 5111811, 3, 0, 5570561, 3, 0, 5570562, 3, 0, 5570563, 3, 0, 5898242, 3, 0, 5898244, 3, 0, 5963776, 6, 0, 5963782, 4, 0, 6029314, 5, 0, 6029316, 5, 0, 6094849, 3, 0, 6225920, 6, 0, 6225922, 4, 0, 6356992, 6, 0, 6356994, 4, 0, 6488065, 5, 0, 6553602, 3, 0, 6553612, 3, 0, 6684672, 6, 0, 6684686, 4, 0, 7340032, 6, 0, 7340046, 4, 0, 7471106, 5, 0, 7471116, 5, 0, 7536644, 3, 0, 7798784, 6, 0, 7798792, 4, 0, 8060932, 5, 0, 8126466, 3, 0, 8126470, 3, 0, 8126472, 3, 0, 8126475, 3, 0, 8257536, 6, 0, 8257549, 4, 0, 8388608, 6, 0, 8388621, 4, 0, 8519682, 5, 0, 8519686, 5, 0, 8519688, 5, 0, 8519691, 5, 0, 9502721, 5, 0, 9502728, 5, 0, 9764866, 5, 0, 9961475, 4, 0 )
